<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="shortcut icon"
      href="/purple-icons8-dice-64.png"
      type="image/x-icon"
    />
    <title>Study Stack</title>
  </head>
  <body>
    <!-- ===========================
         Navigation Bar
         =========================== -->
    <nav class="navbar" id="navbar">
      <div class="navbar-brand">StudyStack</div>
      <div id="theme-icon" style="cursor: pointer">
        <svg
          id="sun-icon"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="12" cy="12" r="5" fill="#333" />
          <path d="M12 1V3" stroke="#333" stroke-width="2" />
          <path d="M12 21V23" stroke="#333" stroke-width="2" />
          <path d="M4.22 4.22L5.64 5.64" stroke="#333" stroke-width="2" />
          <path d="M18.36 18.36L19.78 19.78" stroke="#333" stroke-width="2" />
          <path d="M1 12H3" stroke="#333" stroke-width="2" />
          <path d="M21 12H23" stroke="#333" stroke-width="2" />
          <path d="M4.22 19.78L5.64 18.36" stroke="#333" stroke-width="2" />
          <path d="M18.36 5.64L19.78 4.22" stroke="#333" stroke-width="2" />
        </svg>
        <svg
          id="moon-icon"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M21.53 15.93c-.16-.27-.61-.69-1.73-.49a8.46 8.46 0 01-1.88.13 8.409 8.409 0 01-5.91-2.82 8.068 8.068 0 01-1.44-8.66c.44-1.01.13-1.54-.09-1.76s-.77-.55-1.83-.11a10.318 10.318 0 00-6.32 10.21 10.475 10.475 0 007.04 8.99 10 10 0 002.89.55c.16.01.32.02.48.02a10.5 10.5 0 008.47-4.27c.67-.93.49-1.519.32-1.79z"
            fill="#fff"
          />
        </svg>
      </div>
    </nav>

    <!-- ===========================
        Authentication Container
        =========================== -->
    <div id="auth-container">
      <form id="auth-form">
        <input
          type="text"
          id="display-name"
          placeholder="Enter your name"
          required
        />
        <button type="submit">Login</button>
      </form>
    </div>

    <!-- ===========================
         Settings Container
         =========================== -->
    <div id="settings-container" style="display: none">
      <h2>Settings</h2>
      <div>
        <label for="theme-toggle">Theme: Light/Dark</label>
        <input type="checkbox" id="theme-toggle" />
      </div>
      <!-- <div>
        <label>Edit Decks:</label>
        <button id="edit-decks">Enter Edit Mode</button>
      </div>
      <div>
        <label>Reset Decks:</label>
        <button id="reset-decks">Remove All Decks</button>
      </div> -->
      <div>
        <button id="go-home-link">Go Back Home</button>
      </div>
    </div>

    <!-- ===========================
         Modal for Logout Confirmation
         =========================== -->
    <div id="confirm-modal" class="modal">
      <div class="modal-content">
        <h2 id="confirm-message">
          Want to clear all data for <span id="user-name"></span>?
        </h2>
        <button id="confirm-yes">Yes</button>
        <button id="confirm-no">No</button>
        <button id="confirm-cancel">Cancel</button>
      </div>
    </div>

    <!-- ===========================
         Flashcard Container
         =========================== -->
    <div class="main-content">
      <div id="flashcard-container" style="display: none">
        <h2>Study Session</h2>
        <div id="score-display">
          <span id="current-score">0</span> /
          <span id="total-possible">0</span> points
        </div>
        <div id="flashcard">
          <div id="question-counter">
            Question <span id="current-question">1</span> of
            <span id="total-questions">0</span>
          </div>
          <div id="question-text"></div>
          <div id="answer-section">
            <input
              type="text"
              id="user-answer"
              placeholder="Type your answer..."
            />
            <button id="submit-answer">Submit Answer</button>
            <div id="feedback-message" style="display: none"></div>
          </div>
          <div class="flashcard-btns">
            <button id="close-flashcard">Close</button>
            <button id="flip-flashcard">Flip</button>
            <button id="next-flashcard">Next</button>
          </div>
        </div>
      </div>

      <div class="content-wrapper">
        <!-- Leaderboard Container -->
        <div id="leaderboard-container">
          <h2>Top High Scores</h2>
          <table id="leaderboard-table">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Username</th>
                <th>Score</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="leaderboard-body">
              <!-- Scores will be dynamically inserted here -->
            </tbody>
          </table>
        </div>

        <!-- Decks Container -->
        <div id="decks-container">
          <h2>Your Decks</h2>
          <button id="add-deck-button">Add Deck</button>
          <div id="deck-input" style="display: none">
            <input type="text" id="new-deck-name" placeholder="Deck Name" />
            <input
              type="text"
              id="deck-category"
              placeholder="Enter Category (e.g., Math, Science, History)"
            />
            <div id="flashcard-form">
              <input
                type="text"
                id="flashcard-question"
                placeholder="Question"
              />
              <input type="text" id="flashcard-answer" placeholder="Answer" />
              <select id="flashcard-points">
                <option value="1">Easy (1 point)</option>
                <option value="2">Medium (2 points)</option>
                <option value="3">Hard (3 points)</option>
                <option value="5">Expert (5 points)</option>
              </select>
              <button id="add-flashcard-button">Add Flashcard</button>
            </div>
            <div id="flashcard-list-container">
              <ul id="flashcard-list"></ul>
            </div>
            <button id="save-deck-button">Save Deck</button>
            <button id="cancel-deck-button">Cancel</button>
          </div>
          <div id="deck-list"></div>
        </div>
      </div>
    </div>

    <!-- Add this template for editing flashcards -->
    <div id="flashcard-edit-template" style="display: none">
      <div class="flashcard-edit-form">
        <input type="text" class="edit-question" placeholder="Question" />
        <input type="text" class="edit-answer" placeholder="Answer" />
        <select class="edit-points">
          <option value="1">Easy (1 point)</option>
          <option value="2">Medium (2 points)</option>
          <option value="3">Hard (3 points)</option>
          <option value="5">Expert (5 points)</option>
        </select>
        <div class="edit-buttons">
          <button class="save-edit">Save</button>
          <button class="cancel-edit">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Add this after your flashcard container -->
    <div id="score-summary-modal" class="modal" style="display: none">
      <div class="modal-content">
        <h2>Study Session Complete!</h2>
        <div class="summary-stats">
          <div class="stat">
            <span>Final Score:</span>
            <span id="final-score">0</span> / <span id="final-possible">0</span>
          </div>
          <div class="stat">
            <span>Percentage:</span>
            <span id="final-percentage">0%</span>
          </div>
        </div>
        <div id="performance-message"></div>
        <button id="close-summary">Continue</button>
      </div>
    </div>

    <!-- Score Summary Modal -->
    <div id="score-summary-modal" style="display: none">
      <p>Total Flashcards: <span id="total-flashcards"></span></p>
      <p>Correct Percentage: <span id="correct-percentage"></span></p>
      <button id="close-summary">Close</button>
    </div>

    <script src="app.js"></script>
  </body>
</html>
